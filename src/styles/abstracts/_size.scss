@charset 'UTF-8';
@use 'sass:map';
@use 'tokens' as *;

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// ğŸ“ SIZE SYSTEM - Dimensions structurelles (width, height, min/max)
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
//
// ğŸ¯ RÃ”LE : Gestion des dimensions structurelles (PAS la respiration)
//
// âœ… UTILISABLE POUR :
//   - width, height
//   - min-width, max-width, min-height, max-height
//   - top, left, right, bottom (positionnement absolu)
//   - Dimensions de composants (modals, sidebars, cards)
//   - Touch targets (accessibilitÃ© WCAG/TSA)
//
// âŒ INTERDIT POUR :
//   - margin, padding â†’ Utiliser spacing() depuis _spacing.scss
//   - gap, row-gap, column-gap â†’ Utiliser spacing()
//   - inset, scroll-margin â†’ Utiliser spacing()
//
// ğŸ”‘ POURQUOI SÃ‰PARER size() et spacing() ?
//   1. ResponsabilitÃ©s diffÃ©rentes : Dimension â‰  Respiration
//   2. Noms sÃ©mantiques explicites : size('touch-target-min') > spacing('44')
//   3. Ã‰volutivitÃ© : Facile de changer tailles sans affecter espacements
//   4. Export facile : JSON pour mobile native ou Storybook
//
// ğŸ“š EXEMPLES :
//   .button {
//     min-height: size('touch-target-min');  // âœ… 44px (dimension)
//     padding: spacing('sm');                // âœ… 8px (respiration)
//   }
//
//   .modal {
//     max-width: size('modal-width-md');     // âœ… 540px (dimension)
//     padding: spacing('lg');                // âœ… 24px (respiration)
//   }
//
// âš ï¸ MIGRATION PHASE 5 â†’ PHASE 6 :
//   Phase 5 (actuelle) : TolÃ©rance temporaire spacing() pour dimensions legacy
//   Phase 6 (future) : Migration complÃ¨te vers size() avec tokens sÃ©mantiques
//
//   Exemple migration :
//     spacing('44') â†’ size('touch-target-min')  // Phase 6
//     spacing('540') â†’ size('modal-width-md')   // Phase 6
//
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

/// Fonction size() - Retourne une dimension structurelle depuis $size-tokens
///
/// @param {String} $key - ClÃ© du token size
/// @return {Length} Valeur de dimension (rem ou px)
///
/// @throws {Error} Si la clÃ© n'existe pas dans $size-tokens
///
/// @example scss - Touch targets accessibilitÃ©
///   .button {
///     min-height: size('touch-target-min');       // 44px WCAG AA
///     min-width: size('touch-target-min');        // 44px
///   }
///
/// @example scss - Modal responsive
///   .modal {
///     width: 90vw;
///     max-width: size('modal-width-md');          // 540px
///     min-height: size('modal-content-min-height'); // 200px
///   }
///
/// @example scss - Sidebar layout
///   .sidebar {
///     width: size('sidebar-width');               // 280px
///     &--collapsed {
///       width: size('sidebar-collapsed');         // 64px
///     }
///   }
///
/// @example scss - Icons
///   .icon {
///     &--sm { width: size('icon-sm'); }           // 16px
///     &--md { width: size('icon-md'); }           // 24px
///     &--lg { width: size('icon-lg'); }           // 32px
///   }
@function size($key) {
  @if not map.has-key($size-tokens, $key) {
    @error "Size token '#{$key}' not found in $size-tokens. Available keys: #{map.keys($size-tokens)}. If you need a new size token, add it to src/styles/abstracts/_tokens.scss in the $size-tokens map.";
  }
  @return map.get($size-tokens, $key);
}

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// ğŸ¨ CSS CUSTOM PROPERTIES (optionnel - pour accÃ¨s runtime)
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

// Note: CSS variables gÃ©nÃ©rÃ©es uniquement si nÃ©cessaires pour accÃ¨s JavaScript
// CommentÃ© par dÃ©faut pour Ã©viter surcharge CSS inutile

// :root {
//   @each $key, $value in $size-tokens {
//     --size-#{$key}: #{$value};
//   }
// }

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// ğŸ“ GUIDELINES & BEST PRACTICES
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
//
// 1. TOUJOURS utiliser size() pour dimensions structurelles
// 2. JAMAIS hardcoder px/rem dans width, height, min/max
// 3. PrÃ©fÃ©rer tokens sÃ©mantiques ('touch-target-min') vs numÃ©riques
// 4. Ajouter nouveaux tokens dans _tokens.scss (source de vÃ©ritÃ©)
// 5. Documenter usage spÃ©cifique si token trÃ¨s contextualisÃ©
// 6. VÃ©rifier accessibilitÃ© : touch targets â‰¥ 44px (WCAG AA)
// 7. Penser mobile-first : tailles adaptatives via @include respond-to()
// 8. TSA-friendly : tailles confortables (prÃ©fÃ©rer 'preferred' vs 'min')
//
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
