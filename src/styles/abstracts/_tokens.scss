@charset 'UTF-8';
@use 'sass:map';

/// ============================================================================
/// üöÄ TOKENS SYSTEM - SOURCE DE V√âRIT√â UNIQUE & CANONIQUE
/// ============================================================================
/// ‚ö†Ô∏è CRITICAL: Ce fichier est la SOURCE DE V√âRIT√â UNIQUE du design system.
/// TOUS les autres fichiers (colors, typography, spacing, etc.) DOIVENT d√©river
/// des tokens d√©finis ici. AUCUNE duplication, AUCUNE d√©finition locale.
///
/// üìã Structure:
///   - Role-based colors ($role-color-tokens) - CANONICAL pour tous les r√¥les
///   - Gradients (UI, badge)
///   - Opacit√©s (alpha values)
///   - Z-index scale
///   - Autres tokens globaux
///
/// üî¥ R√àGLE STRICTE:
///   1. Toutes les couleurs de r√¥les DOIVENT venir de $role-color-tokens (ici)
///   2. _colors.scss NE DOIT PAS red√©finir $role-colors (deprecated - see note below)
///   3. _variables.scss NE DOIT PAS faire de shadow copies (use functions only)
///   4. Components DOIVENT utiliser var(--color-admin) ou role-color() function
///
/// üìö Exemple usage:
///   - Sass: $admin-color: map-get(map-get($role-color-tokens, 'admin'), 'base');
///   - CSS:  background: var(--color-admin);
///   - Function: @function role-color($role) { ... lire depuis ici ... }
/// ============================================================================

// =============================================================================
// ROLE-BASED COLOR TOKENS - R√¥les utilisateurs [‚úÖ CANONICAL SOURCE]
// =============================================================================

/// üî¥ CANONICAL SOURCE pour ALL role colors - admin, abonn√©, free, visitor, staff
///
/// Cette map est la SEULE source de v√©rit√© pour les couleurs de r√¥les.
/// - Admin = #667eea (violet) - d√©cid√© et IMMUABLE
/// - Autres r√¥les = voir d√©finitions ci-dessous
///
/// ‚ö†Ô∏è R√àGLES DE MIGRATION:
///   1. _colors.scss.$role-colors est DEPRECATED - ne plus l'utiliser
///   2. role-color() function DOIT lire depuis $role-color-tokens ici
///   3. Tout usage hardcod√© (red(600), #dc2626) est √Ä REFACTORER
///   4. Components DOIVENT utiliser var(--color-admin) ou role-color()
///
/// üìù NON-NEGOTIABLE pour Admin (violet):
///   - base: #667eea (primary violet - identit√© admin)
///   - light: #8b9ff4 (hover lighter)
///   - dark: #4c5ac4 (active darker)
///   - gradient: #667eea ‚Üí #764ba2 (modern UI gradient)
$role-color-tokens: (
  'admin': (
    'base': #667eea,
    'light': #8b9ff4,
    'dark': #4c5ac4,
    'gradient-start': #667eea,
    'gradient-end': #764ba2,
  ),
  'abonne': (
    'base': #22c55e,
    'light': #4ade80,
    'dark': #16a34a,
    'gradient-start': #22c55e,
    'gradient-end': #16a34a,
  ),
  'free': (
    'base': #64748b,
    'light': #94a3b8,
    'dark': #475569,
    'gradient-start': #64748b,
    'gradient-end': #475569,
  ),
  'visitor': (
    'base': #ea580c,
    'light': #f97316,
    'dark': #c2410c,
    'gradient-start': #ea580c,
    'gradient-end': #c2410c,
  ),
  'staff': (
    'base': #8b5cf6,
    // Violet staff
    'light': #a78bfa,
    'dark': #7c3aed,
    'gradient-start': #8b5cf6,
    'gradient-end': #a78bfa,
  ),
);

// =============================================================================
// GRADIENT TOKENS - D√©grad√©s UI
// =============================================================================

/// Gradient color pairs as MAPS (use with map.get($gradient, start/end))
/// Format: 'name': (start: color, end: color)
$ui-gradients: (
  'purple-modern': (
    start: #667eea,
    end: #764ba2,
  ),
  'purple-modern-hover': (
    start: #5568d3,
    end: #653a8b,
  ),
  'blue-soft': (
    start: #f5f7fa,
    end: #e8ecf1,
  ),
  'green-gradient': (
    start: #22c55e,
    end: #16a34a,
  ),
  'orange-gradient': (
    start: #ea580c,
    end: #c2410c,
  ),
  'slate-gradient': (
    start: #64748b,
    end: #475569,
  ),
);

/// Badge gradient color pairs (r√¥les)
$badge-gradients: (
  'admin': (
    start: #667eea,
    end: #764ba2,
  ),
  'abonne': (
    start: #22c55e,
    end: #16a34a,
  ),
  'free': (
    start: #64748b,
    end: #475569,
  ),
  'visitor': (
    start: #ea580c,
    end: #c2410c,
  ),
);

// =============================================================================
// SHADOW TOKENS - Ombres par contexte
// =============================================================================

/// Badge shadows (pour distinguer r√¥les)
$badge-shadow-tokens: (
  'admin': (
    'default': rgba(102, 126, 234, 0.3),
    'hover': rgba(102, 126, 234, 0.4),
  ),
  'abonne': (
    'default': rgba(34, 197, 94, 0.3),
    'hover': rgba(34, 197, 94, 0.4),
  ),
  'free': (
    'default': rgba(100, 116, 139, 0.3),
    'hover': rgba(100, 116, 139, 0.4),
  ),
  'visitor': (
    'default': rgba(234, 88, 12, 0.3),
    'hover': rgba(234, 88, 12, 0.4),
  ),
);

// Legacy compatibility
$badge-shadows: (
  'abonne': rgba(34, 197, 94, 0.3),
  'abonne-hover': rgba(34, 197, 94, 0.4),
  'free': rgba(100, 116, 139, 0.3),
  'free-hover': rgba(100, 116, 139, 0.4),
  'visitor': rgba(234, 88, 12, 0.3),
  'visitor-hover': rgba(234, 88, 12, 0.4),
);

// =============================================================================
// OPACITY TOKENS - Valeurs d'alpha/transparence
// =============================================================================

/// Opacity scale pour toutes les transparences
$opacity-tokens: (
  'none': 0,
  'xs': 0.05,
  'sm': 0.1,
  'md': 0.15,
  'lg': 0.2,
  'xl': 0.3,
  '2xl': 0.4,
  'half': 0.5,
  '0-6': 0.6,
  '0-9': 0.9,
  'opaque': 1,

  // === Specific values ===
  '0-08': 0.08,
  '0-12': 0.12,
  '0-15': 0.15,
  '0-2': 0.2,
  '0-25': 0.25,
  '0-3': 0.3,
  '0-35': 0.35,
  '0-4': 0.4,
  '0-45': 0.45,
  '0-95': 0.95,
);

// =============================================================================
// Z-INDEX TOKENS - Stacking order
// =============================================================================

/// Z-index scale pour hi√©rarchie de profondeur
$z-index-tokens: (
  'hide': -1,
  'base': 0,
  'dropdown': 100,
  'sticky': 200,
  'fixed': 300,
  'offcanvas': 400,
  'modal-backdrop': 900,
  'modal': 1000,
  'popover': 1050,
  'tooltip': 1100,
  'notification': 1200,
  'max': 9999,
);

/// Variables pour utilisation directe dans les composants
/// (pref use z-index($key) function, ou ces variables pour legacy)
$z-overlay: map.get($z-index-tokens, 'modal');
$z-modal: map.get($z-index-tokens, 'tooltip');
$z-tooltip: map.get($z-index-tokens, 'notification');

// =============================================================================
// BRAND COLOR TOKENS - Marques tierces
// =============================================================================

/// Couleurs de partenaires/services externes
$brand-color-tokens: (
  'stripe': (
    'base': #635bff,
    'hover': #5a50f0,
    'dark': #4c47d8,
  ),
  'google': (
    'base': #1f2937,
    'hover': #111827,
  ),
  'apple': (
    'base': #000000,
    'hover': #1f2937,
  ),
);

// Legacy compatibility
$brand-colors: (
  'stripe': #635bff,
  'stripe-hover': #5a50f0,
);

// =============================================================================
// COLOR PALETTE TOKENS - Palettes compl√®tes par teinte [‚úÖ CANONICAL SOURCE]
// =============================================================================

/// Palette bleue (inspir√©e design moderne)
/// Nuances de 50 (tr√®s clair) √† 900 (tr√®s fonc√©)
$blue-palette-tokens: (
  50: #eff6ff,
  100: #dbeafe,
  200: #bfdbfe,
  300: #93c5fd,
  400: #60a5fa,
  500: #3b82f6,
  // Bleu standard
  600: #2563eb,
  700: #1d4ed8,
  800: #1e3a8a,
  900: #1e40af,
);

/// Palette rouge
$red-palette-tokens: (
  50: #fef2f2,
  100: #fee2e2,
  200: #fecaca,
  300: #fca5a5,
  400: #f87171,
  500: #ef4444,
  // Rouge standard
  600: #dc2626,
  700: #b91c1c,
  800: #991b1b,
  900: #7f1d1d,
);

/// Palette verte
$green-palette-tokens: (
  50: #f0fdf4,
  // green-50 pastel
  100: #dcfce7,
  200: #bbf7d0,
  // green-200
  300: #86efac,
  400: #4ade80,
  500: #22c55e,
  600: #16a34a,
  700: #15803d,
  800: #166534,
  // green-800
  900: #14532d,
);

/// Palette orange/ambre
$orange-palette-tokens: (
  50: #fff7ed,
  // orange-50 pastel
  100: #ffedd5,
  200: #fed7aa,
  // orange-200
  300: #fdba74,
  400: #fb923c,
  500: #f97316,
  600: #ea580c,
  700: #c2410c,
  800: #9a3412,
  900: #7c2d12, // orange-900
);

/// Palette jaune
$yellow-palette-tokens: (
  50: #fefce8,
  100: #fef9c3,
  200: #fef08a,
  300: #fde047,
  400: #facc15,
  500: #eab308,
  600: #ca8a04,
  700: #a16207,
  800: #854d0e,
  900: #713f12,
);

/// Palette violette (pour r√¥le staff)
$purple-palette-tokens: (
  50: #faf5ff,
  100: #f3e8ff,
  200: #e9d5ff,
  300: #d8b4fe,
  400: #c084fc,
  500: #a855f7,
  600: #9333ea,
  700: #7e22ce,
  800: #6b21a8,
  900: #581c87,
);

/// Palette slate/gris fonc√© (pour texte et UI)
$slate-palette-tokens: (
  50: #f8fafc,
  100: #f1f5f9,
  200: #e2e8f0,
  300: #cbd5e1,
  400: #94a3b8,
  500: #64748b,
  600: #475569,
  700: #334155,
  // slate-700 (texte principal)
  800: #1e293b,
  900: #0f172a,
);

/// Palette gray neutre
$gray-palette-tokens: (
  50: #fafafa,
  100: #f7f7f7,
  200: #e1e1e1,
  300: #cfcfcf,
  400: #b1b1b1,
  500: #9e9e9e,
  600: #7e7e7e,
  700: #626262,
  800: #515151,
  900: #3b3b3b,
);

// =============================================================================
// PRIMARY/SECONDARY/ACCENT COLOR TOKENS - Couleurs de marque
// =============================================================================

/// Couleurs principales de marque
$primary-color-tokens: (
  base: #0077c2,
  // Bleu principal (buttons, liens)
  light: #4dabf7,
  // Bleu clair (hover, accents)
  dark: #1565c0, // Bleu fonc√© (√©tats actifs)
);

$secondary-color-tokens: (
  base: #ef5350,
  // Rouge secondaire
  dark: #d32f2f, // Rouge fonc√© (hover) - Ajout√© Phase 6
);

$accent-color-tokens: (
  base: #ffb400,
  // Jaune accent
  light: #fbbf24,
  // Jaune clair
  dark: #f59e0b, // Ambre fonc√©
);

// =============================================================================
// TEXT & SURFACE COLOR TOKENS - Couleurs texte et surfaces
// =============================================================================

/// Couleurs de texte par contexte
$text-color-tokens: (
  default: #333333,
  // Texte principal
  invert: #ffffff,
  // Texte invers√©
  light: #64748b,
  // Texte secondaire
  dark: #1f2937,
  // Texte accentu√©
  muted: #6b7280, // Texte d√©sactiv√©
);

/// Couleurs de surface/background
$surface-color-tokens: (
  bg: #ffffff,
  // Background principal
  surface: #f7f7f7,
  // Surface secondaire
  border: #e1e1e1,
  // Bordures
  soft: #f8fafc,
  // Background doux
  hover: #f9fafb,
  // Hover state
  overlay: rgba(59, 59, 59, 0.5), // Overlay semi-transparent (modales, dropdowns)
);

// =============================================================================
// ADMIN UI COLOR TOKENS - Interface admin sp√©cifique
// =============================================================================

/// Couleurs d√©di√©es interface admin
$admin-ui-color-tokens: (
  primary: #007bff,
  // Bleu Bootstrap primary
  primary-hover: #0056b3,
  // Hover primary
  secondary: #6c757d,
  // Gris Bootstrap secondary
  secondary-hover: #545b62,
  // Hover secondary
  success: #28a745,
  // Vert Bootstrap success
  success-hover: #1e7e34,
  // Hover success
  danger: #dc3545,
  // Rouge Bootstrap danger
  danger-hover: #c82333,
  // Hover danger
  info: #2563eb,
  // Bleu info moderne
  info-light: rgba(37, 99, 235, 0.05),
  // Background info l√©ger
  item-bg: rgba(37, 99, 235, 0.05),
  // Background item
  item-alt: rgba(75, 85, 99, 0.05),
  // Background alternance
  success-bg: rgba(40, 167, 69, 0.1),
  // Background success light
  success-border: rgba(40, 167, 69, 0.3),
  // Bordure success
  danger-bg: rgba(220, 53, 69, 0.1),
  // Background danger light
  danger-border: rgba(220, 53, 69, 0.3), // Bordure danger
);

// =============================================================================
// WARNING STATE COLOR TOKENS - √âtats d'avertissement
// =============================================================================

/// √âtats warning/error avec variantes
$warning-state-color-tokens: (
  warning: #f97316,
  // Orange warning principal
  warning-light: #fb923c,
  // Orange warning clair
  warning-bg: rgba(249, 115, 22, 0.08),
  // Background warning l√©ger
  warning-bg-strong: rgba(249, 115, 22, 0.1),
  // Background warning moyen
  warning-border: #f97316,
  // Bordure warning
  error: #ef4444,
  // Rouge error principal
  error-bg: rgba(239, 68, 68, 0.08),
  // Background error l√©ger
  error-bg-strong: rgba(239, 68, 68, 0.1),
  // Background error moyen
  error-border: rgba(239, 68, 68, 0.3),
  // Bordure error
  error-hover: rgba(239, 68, 68, 0.2), // Background error hover
);

// =============================================================================
// TSA PASTEL COLOR TOKENS - Couleurs apaisantes (UX TSA)
// =============================================================================

/// Couleurs pastel apaisantes conformes UX TSA
$tsa-pastel-color-tokens: (
  blue-light: #eaf6ff,
  // Bleu pastel l√©ger
  green-soft: #d4f4dd,
  // Vert pastel doux
  info-soft: #d1ecf9,
  // Bleu info pastel
  bg-soft: #f0f8ff,
  // Background bleu tr√®s l√©ger
  page-soft: #f9f9f9, // Background page doux
);

// =============================================================================
// SHADOW/OVERLAY COLOR TOKENS - Ombres et overlays utilitaires
// =============================================================================

/// Couleurs d'ombres et overlays (pas √©l√©vations)
$shadow-color-tokens: (
  black-light: rgba(0, 0, 0, 0.08),
  // Ombre noire l√©g√®re
  black-medium: rgba(0, 0, 0, 0.2),
  // Ombre noire moyenne
  black-strong: rgba(0, 0, 0, 0.3),
  // Ombre noire forte
  primary-light: rgba(66, 153, 225, 0.1),
  // Ombre primary l√©g√®re
  primary-medium: rgba(66, 153, 225, 0.3),
  // Ombre primary moyenne
  success-strong: rgba(16, 185, 129, 0.2), // Ombre success forte
);

// =============================================================================
// BREAKPOINT TOKENS - Responsive design
// =============================================================================

/// Breakpoint scales (cf. _breakpoints.scss)
$breakpoint-tokens: (
  'mobile': 0,
  'sm': 576px,
  'md': 768px,
  'lg': 1024px,
  'xl': 1200px,
  'xxl': 1536px,
);

// =============================================================================
// DESIGN SYSTEM SEMANTIC TOKENS
/// Tokens s√©mantiques (success, warning, error, info)
/// Utiliser plut√¥t que les couleurs brutes
// =============================================================================

$semantic-tokens: (
  'success': (
    'base': #4caf50,
    'light': #81c784,
    'dark': #2e7d32,
    'bg': #f1f8e9,
    'border': #c8e6c9,
  ),
  'warning': (
    'base': #ff9800,
    'light': #ffb74d,
    'dark': #e65100,
    'bg': #fff3e0,
    'border': #ffe0b2,
  ),
  'error': (
    'base': #f44336,
    'light': #ef5350,
    'dark': #c62828,
    'bg': #ffebee,
    'border': #ffcdd2,
  ),
  'info': (
    'base': #2196f3,
    'light': #64b5f6,
    'dark': #1565c0,
    'bg': #e3f2fd,
    'border': #bbdefb,
  ),
);

// =============================================================================
// SPACING TOKENS - Espacement coh√©rent (padding, margin, gaps)
// =============================================================================

/// Spacing scale (utiliser plut√¥t que px hardcod√©s)
$spacing-tokens: (
  'none': 0,
  'xs': 0.25rem,
  // 4px
  'sm': 0.5rem,
  // 8px
  'md': 1rem,
  // 16px
  'lg': 1.5rem,
  // 24px
  'xl': 2rem,
  // 32px
  '2xl': 3rem,
  // 48px
  '3xl': 4rem,

  // 64px
  // === Specific common values ===
  '1': 0.0625rem,
  // 1px
  '2': 0.125rem,
  // 2px
  '3': 0.1875rem,
  // 3px
  '4': 0.25rem,
  // 4px
  '6': 0.375rem,
  // 6px
  '8': 0.5rem,
  // 8px
  '10': 0.625rem,
  // 10px
  '12': 0.75rem,
  // 12px
  '14': 0.875rem,
  // 14px
  '15': 0.9375rem,
  // 15px
  '16': 1rem,
  // 16px
  '18': 1.125rem,
  // 18px
  '20': 1.25rem,
  // 20px
  '22': 1.375rem,
  // 22px
  '24': 1.5rem,
  // 24px
  '25': 1.5625rem,
  // 25px
  '26': 1.625rem,
  // 26px - Toggle slider offset
  '28': 1.75rem,
  // 28px
  '30': 1.875rem,
  // 30px
  '32': 2rem,
  // 32px
  '36': 2.25rem,
  // 36px
  '39': 2.4375rem,
  // 39px
  '40': 2.5rem,
  // 40px
  '44': 2.75rem,
  // 44px (touch target)
  '48': 3rem,
  // 48px
  '50': 3.125rem,
  // 50px
  '56': 3.5rem,
  // 56px
  '60': 3.75rem,
  // 60px
  '62': 3.875rem,
  // 62px
  '64': 4rem,
  // 64px
  '70': 4.375rem,
  // 70px
  '80': 5rem,
  // 80px
  '100': 6.25rem,
  // 100px
  '120': 7.5rem,
  // 120px
  '140': 8.75rem,
  // 140px
  '150': 9.375rem,
  // 150px
  '160': 10rem,
  // 160px
  '180': 11.25rem,
  // 180px
  '200': 12.5rem,
  // 200px
  '250': 15.625rem,
  // 250px
  '260': 16.25rem,
  // 260px
  '280': 17.5rem,
  // 280px
  '300': 18.75rem,
  // 300px
  '400': 25rem,
  // 400px
  '500': 31.25rem,
  // 500px
  '600': 37.5rem,
  // 600px
  '800': 50rem, // 800px
);

// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
// üìê SIZE TOKENS - Dimensions structurelles (width, height, min/max)
// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
//
// USAGE : Pour dimensions structurelles (PAS respiration)
// - width, height
// - min-width, max-width, min-height, max-height
// - top, left, right, bottom (positionnement)
//
// ‚ùå NE PAS utiliser pour : margin, padding, gap (utiliser $spacing-tokens)
// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

$size-tokens: (
  // Touch Targets (Accessibilit√© WCAG / TSA)
  'touch-target-min': 2.75rem,
  // 44px - WCAG 2.2 AA minimum
  'touch-target-optimal': 3rem,
  // 48px - Compromis id√©al
  'touch-target-preferred': 3.5rem,
  // 56px - TSA pr√©f√©r√© (confortable)
  'touch-target-large': 4rem,

  // 64px - TSA extra-confortable
  // Navigation
  'nav-height-mobile': 3.5rem,
  // 56px
  'nav-height-desktop': 4rem,
  // 64px
  'nav-width-sidebar': 17.5rem,

  // 280px
  // Formulaires
  'input-height-sm': 2rem,
  // 32px
  'input-height-md': 2.5rem,
  // 40px
  'input-height-lg': 3rem,

  // 48px
  // Boutons
  'button-height-sm': 2rem,
  // 32px
  'button-height-md': 2.75rem,
  // 44px (touch target min)
  'button-height-lg': 3.5rem,

  // 56px (touch target preferred)
  // Cards
  'card-min-height': 8.75rem,
  // 140px
  'card-image-height': 12.5rem,
  // 200px
  'card-max-width': 25rem,

  // 400px
  // Avatar
  'avatar-xs': 1.5rem,
  // 24px
  'avatar-sm': 2rem,
  // 32px
  'avatar-md': 2.5rem,
  // 40px
  'avatar-lg': 3rem,
  // 48px
  'avatar-xl': 4rem,

  // 64px
  // Icons
  'icon-xs': 0.75rem,
  // 12px
  'icon-sm': 1rem,
  // 16px
  'icon-md': 1.5rem,
  // 24px
  'icon-lg': 2rem,
  // 32px
  'icon-xl': 3rem,

  // 48px
  // Modals
  'modal-width-sm': 20rem,
  // 320px - Mobile
  'modal-width-md': 33.75rem,
  // 540px - Tablette
  'modal-width-lg': 48rem,
  // 768px - Desktop
  'modal-width-xl': 64rem,
  // 1024px - Large desktop
  'modal-max-height': 90vh,
  // Max 90% viewport
  'modal-content-min-height': 12.5rem,

  // 200px
  // Container (Layout)
  'container-sm': 36rem,
  // 576px
  'container-md': 48rem,
  // 768px
  'container-lg': 64rem,
  // 1024px
  'container-xl': 75rem,
  // 1200px
  'container-xxl': 96rem,

  // 1536px
  // Sections
  'section-min-height': 20rem,
  // 320px
  'hero-height': 31.25rem,

  // 500px
  // Sidebar
  'sidebar-width': 17.5rem,
  // 280px
  'sidebar-collapsed': 4rem,

  // 64px
  // Header/Footer
  'header-height': 4rem,
  // 64px
  'footer-height': 20rem,

  // 320px
  // DnD (Drag & Drop)
  'dnd-card-min-width': 16.25rem,
  // 260px
  'dnd-card-min-height': 8.75rem,
  // 140px
  'dnd-slot-min-height': 8.75rem,
  // 140px
  'dnd-grid-min-width': 16.25rem,

  // 260px
  // Images & Media
  'thumbnail-xs': 3rem,
  // 48px
  'thumbnail-sm': 4rem,
  // 64px
  'thumbnail-md': 6rem,
  // 96px
  'thumbnail-lg': 8rem,
  // 128px
  'thumbnail-xl': 12rem,
  // 192px
  'image-preview': 12.5rem,
  // 200px
  'image-feature': 18.75rem,
  // 300px
  'image-hero': 31.25rem,
  // 500px
  'video-player-min-height': 18.75rem,
  // 300px
  // Legacy/Utility numeric values (Phase 5 ‚Üí 6 migration)
  '2': 0.125rem,
  // 2px - petits offsets (transforms, borders)
  '4': 0.25rem,
  // 4px - petits √©l√©ments UI (handle bars, blur effects)
  '8': 0.5rem,
  // 8px - scrollbars, s√©parateurs
  '10': 0.625rem,
  // 10px - Petits offsets, petits √©l√©ments
  '12': 0.75rem,
  // 12px - Offsets moyens
  '14': 0.875rem,
  // 14px - Small UI elements, icons
  '16': 1rem,
  // 16px - Checkbox mobile, petits √©l√©ments UI
  '18': 1.125rem,
  // 18px - SVG icons, small UI elements
  '20': 1.25rem,
  // 20px - Checkbox desktop, ic√¥nes
  '24': 1.5rem,
  // 24px - Burger icon, petits conteneurs
  '28': 1.75rem,
  // 28px - √âl√©ments moyens
  '32': 2rem,
  // 32px - offsets structurels (padding modal)
  '40': 2.5rem,
  // 40px - Medium containers, icon sizes
  '48': 3rem,
  // 48px - Icon sizes, input heights
  '50': 3.125rem,
  // 50px - Icons, status indicators
  '60': 3.75rem,
  // 60px - Ic√¥nes larges, √©l√©ments visuels
  '64': 4rem,
  // 64px - offsets structurels (padding modal large)
  '80': 5rem,
  // 80px - Logo sizes, large icons
  '96': 6rem,
  // 96px - Textarea min-height
  '100': 6.25rem,
  // 100px - Grilles, cards
  '120': 7.5rem,
  // 120px - Grid columns, table cells
  '140': 8.75rem,
  // 140px - Grid columns, table cells
  '150': 9.375rem,
  // 150px - Min-width filtres
  '160': 10rem,
  // 160px - TimeTimer compact
  '180': 11.25rem,
  // 180px - Grilles r√©compenses
  '200': 12.5rem,
  // 200px - Grilles, cards (d√©j√† en card-image-height)
  '250': 15.625rem,
  // 250px - Medium containers, tables
  '260': 16.25rem,
  // 260px - Grilles √©dition
  '280': 17.5rem,
  // 280px - TimeTimer, sidebar (d√©j√† en nav-width-sidebar)
  '300': 18.75rem,
  // 300px - TimeTimer compact
  '320': 20rem,
  // 320px - UserMenu dialog
  '400': 25rem,
  // 400px - Login/signup forms
  '480': 30rem,
  // 480px - Reset password forms
  '500': 31.25rem,
  // 500px - Modals
  '520': 32.5rem,
  // 520px - Collapsible panels
  '600': 37.5rem,
  // 600px - TimeTimer full
  '800': 50rem,
  // 800px - CookiePreferences, containers
  '900': 56.25rem,
  // 900px - Profil page desktop
  '980': 61.25rem,
  // 980px - RGPD portal max-width
  '1200': 75rem // 1200px - Logs page, large containers
) !default;

// =============================================================================
// FONT-SIZE TOKENS - Tailles de texte [‚úÖ CANONICAL SOURCE]
// =============================================================================

/// üî¥ CANONICAL SOURCE pour ALL font-sizes - xs ‚Üí 5xl (Tailwind-like/Option B)
///
/// Cette map est la SEULE source de v√©rit√© pour les tailles de police.
/// Option B (Tailwind-like) - industry standard, accessible TSA friendly
///
/// ‚ö†Ô∏è R√àGLES DE MIGRATION:
///   1. _typography.scss.$font-size-scale est DEPRECATED - ne plus l'utiliser
///   2. font-size() function DOIT lire depuis $font-size-tokens ici (canonical)
///   3. Tout usage hardcod√© (0.65rem, 0.7rem, 1.1rem, etc.) est √Ä REFACTORER
///   4. Components DOIVENT utiliser font-size() function
///
/// üìù NON-NEGOTIABLE Scale (Option B - Tailwind-like):
///   xs: 0.75rem (12px) - tr√®s petit texte
///   sm: 0.875rem (14px) - petit texte
///   base: 1rem (16px) - standard (body)
///   lg: 1.125rem (18px) - largement lisible
///   xl: 1.25rem (20px) - grand texte
///   2xl: 1.5rem (24px) - section titles
///   3xl: 1.875rem (30px) - page titles
///   4xl: 2.25rem (36px) - large titles
///   5xl: 3rem (48px) - hero titles
$font-size-tokens: (
  'xs': 0.75rem,
  // 12px
  'sm': 0.875rem,
  // 14px
  'base': 1rem,
  // 16px (default)
  'lg': 1.125rem,
  // 18px
  'xl': 1.25rem,
  // 20px
  '2xl': 1.5rem,
  // 24px
  '3xl': 1.875rem,
  // 30px
  '4xl': 2.25rem,
  // 36px
  '5xl': 3rem,

  // 48px
  // === Deprecated legacy values (backward compat only) ===
  // DO NOT USE - these are OLD fragmentary values from pre-Option-B era
  '0-75': 0.75rem,
  // 12px - DEPRECATED, use 'xs'
  '0-875': 0.875rem,
  // 14px - DEPRECATED, use 'sm'
  '0-9': 0.9rem,
  // 14.4px - DEPRECATED, NOT in Option B
  '0-95': 0.95rem,
  // 15.2px - DEPRECATED, NOT in Option B
  '1-125': 1.125rem,
  // 18px - DEPRECATED, use 'lg'
  '1-5': 1.5rem, // 24px - DEPRECATED, use '2xl'
);

// =============================================================================
// LINE-HEIGHT TOKENS - Hauteurs de ligne
// =============================================================================

/// Line height scale (unitless ratios for flexibility)
$line-height-tokens: (
  'none': 1,
  'tight': 1.25,
  'snug': 1.375,
  'normal': 1.5,
  'relaxed': 1.625,
  'loose': 2,
);

// =============================================================================
// FONT-WEIGHT TOKENS - Poids de police
// =============================================================================

/// Font weights disponibles (respecter la fonte charg√©e)
/// Utiliser noms s√©mantiques plut√¥t que valeurs num√©riques brutes
///
/// Usage:
///   - Via fonction: font-weight: font-weight('bold');
///   - Direct: font-weight: map.get($font-weight-tokens, 'semibold'); (d√©conseill√©)
$font-weight-tokens: (
  'thin': 100,
  'extralight': 200,
  'light': 300,
  'normal': 400,
  // D√©faut
  'medium': 500,
  'semibold': 600,
  'bold': 700,
  'extrabold': 800,
  'black': 900,
  // Aliases s√©mantiques
  'regular': 400,
  'heavy': 900,
) !default;

// =============================================================================
// MOTION TOKENS - Dur√©es, easings et animations compl√®tes
// =============================================================================

/// üî¥ CANONICAL SOURCE pour ALL motion/transitions (timing + easing)
///
/// Structure compl√®te :
///   1. Timing scale : dur√©es standardis√©es (xs ‚Üí 2xl + sp√©cifiques animations)
///   2. Easing scale : courbes d'acc√©l√©ration (linear, smooth, cubic-bezier customs)
///   3. Motion presets : paires timing+easing pr√©d√©finies (quick-feedback, state-change, etc.)
///
/// Optimis√© TSA :
///   - Max 0.3s pour feedback imm√©diat (base)
///   - Max 0.5s pour reveals (slow)
///   - Toujours doux et pr√©visible (pas de jarring motion)
///   - Respecter prefers-reduced-motion (g√©r√© dans _motion.scss)
///
/// Usage :
///   transition: timing('xs') easing('smooth');
///   animation: fade-in timing('fade') easing('smooth-out');
///
/// ‚ö†Ô∏è R√àGLES :
///   - Toutes dur√©es/easings DOIVENT √™tre d√©finies ici
///   - _motion.scss ne contient QUE les fonctions wrapper
///   - Jamais hardcoder 0.3s, ease, cubic-bezier() ailleurs
$motion-tokens: (
  // === TIMING SCALE - Dur√©es standardis√©es ===
  'timing': (
      // === Transitions rapides (feedback, state changes) ===
      'xs': 0.15s,
      // 150ms - Imm√©diat (focus, hover)
      'sm': 0.2s,
      // 200ms - Rapide (color transitions)
      'base': 0.3s,
      // 300ms - Standard (default motion, TSA max)
      'lg': 0.5s,
      // 500ms - Lent (reveals, transforms)
      'xl': 0.8s,
      // 800ms - Tr√®s lent (complex sequences)
      '2xl': 1.2s,
      // 1200ms - Max standard
      // === Animations sp√©cifiques (named animations) ===
      'pop': 0.4s,
      // Pop animation scale 1‚Üí1.15‚Üí1
      'rebond': 0.4s,
      // Rebond effect (scale variation)
      'slide': 0.3s,
      // Slide in/out
      'fade': 0.3s,
      // Fade in/out
      'spin': 1.5s,
      // Continuous spin animation
      'pulse': 2s,
      // Breathing pulse effect
      'shimmer': 2s,
      // Skeleton shimmer effect
      'bounce': 0.6s,
      // Bounce effect
      'shake': 0.3s,
      // Shake/vibration effect
      // === Progress bar animations ===
      'train-move': 2s,
      // Train animation across progress
      'station-pop': 0.4s,
      // Station marker pop
      'dash-rail': 2s,
      // SVG dash animation
      // === Loop durations ===
      'infinite': 'infinite',
      // For continuous loop animations
      // === Legacy aliases ===
      'fast': 0.15s,
      // Alias pour 'xs'
      'slow': 0.3s,
      // Alias pour 'base'
      'slower': 0.5s,
      // Alias pour 'lg'
      'slowest': 1.2s,
      // Alias pour '2xl'
    ),
  // === EASING SCALE - Courbes d'acc√©l√©ration ===
  'easing': (
      // === Easings standards CSS ===
      'linear': linear,
      // Constant speed
      'smooth': ease,
      // ease = slow start, fast middle, slow end (d√©faut)
      'ease-in': ease-in,
      // Slow start
      'ease-out': ease-out,
      // Slow end (preferred for exits)
      'ease-in-out': ease-in-out,
      // Both sides slow
      // === Cubic-bezier custom (TSA-friendly) ===
      'smooth-pop': cubic-bezier(0.34, 1.56, 0.64, 1),
      // Overshoot for playful pop
      'bounce-easy': cubic-bezier(0.68, -0.55, 0.265, 1.55),
      // Bounce effect
      'smooth-out': cubic-bezier(0.25, 0.46, 0.45, 0.94),
      // Smooth natural exit
      'smooth-in': cubic-bezier(0.55, 0.055, 0.675, 0.19),
      // Smooth natural enter
    ),
  // === MOTION PRESETS - Paires timing+easing pr√©d√©finies ===
  'preset': (
      // === Feedback rapide (interactions utilisateur) ===
      'quick-feedback': (
          'duration': 0.15s,
          'easing': ease,
        ),
      // === √âtat change (hover, focus, active) ===
      'state-change': (
          'duration': 0.2s,
          'easing': ease,
        ),
      // === Motion standard (par d√©faut) ===
      'standard': (
          'duration': 0.3s,
          'easing': ease,
        ),
      // === Reveal/appear (subtle, smooth) ===
      'reveal': (
          'duration': 0.5s,
          'easing': ease-out,
        ),
      // === Pop/bounce (playful, engaging) ===
      'pop': (
          'duration': 0.4s,
          'easing': cubic-bezier(0.34, 1.56, 0.64, 1),
        ),
      // === Long animation (elaborate sequences) ===
      'elaborate': (
          'duration': 0.8s,
          'easing': ease-in-out,
        )
    )
) !default;

// =============================================================================
// BORDER WIDTH TOKENS - Largeurs de bordure standardis√©es
// =============================================================================

/// Largeurs de bordure pour tous les usages (border, outline, dividers)
/// √âvite les hardcodes px et garantit la coh√©rence visuelle
///
/// Structure:
///   - Base scale: thin, base, thick (√©chelle principale)
///   - Semantic contexts: input-*, button-*, card-* (usage sp√©cifique)
///
/// Usage:
///   - Via fonction: border: border-width('focus') solid var(--color-border);
///   - Direct: border-width: map.get($border-width-tokens, 'base'); (d√©conseill√©)
$border-width-tokens: (
  // === √âchelle de base ===
  'none': 0,
  'hairline': 1px,
  'thin': 1px,
  // Bordures l√©g√®res (dividers, subtle)
  'base': 2px,
  // Standard (default, focus rings)
  'focus': 2px,
  // Outline focus (WCAG AA)
  'medium': 3px,
  // Moyen (accents, thick lines)
  'thick': 4px,
  // √âpais (special emphasis)
  'extra': 6px,
  // Tr√®s √©pais (strong visual)
  // === Contextes s√©mantiques - Inputs & Forms ===
  'input-default': 2px,
  'input-hover': 2px,
  'input-focus': 2px,
  'input-error': 2px,
  // === Contextes s√©mantiques - Buttons ===
  'button-default': 0px,
  'button-outline': 2px,
  'button-focus': 2px,
  // === Contextes s√©mantiques - Cards ===
  'card-subtle': 1px,
  'card-default': 1px,
  'card-hover': 2px,
  // === Contextes s√©mantiques - Dividers ===
  'divider-light': 1px,
  'divider-strong': 2px,
  // === Contextes s√©mantiques - Outlines & Focus ===
  'outline-light': 1px,
  'outline-base': 2px,
  'outline-strong': 3px,
  // === Contextes s√©mantiques - Borders g√©n√©riques ===
  'border-light': 1px,
  'border-base': 2px,
  'border-thick': 3px
) !default;

// =============================================================================
// BORDER RADIUS TOKENS - Border-radius standardis√©s
// =============================================================================

/// Border-radius pour tous les composants UI
/// Assure coh√©rence et pr√©dictibilit√© visuelle sur l'ensemble du design system
///
/// Structure:
///   - Scale primaire: xs, sm, md, lg, xl, 2xl, full (progression standard)
///   - Aliases s√©mantiques: card, button, input, avatar, badge, modal, etc.
///   - Valeurs explicites: rounded-2px, rounded-4px, etc. (usage sp√©cifique)
///
/// Usage:
///   - Via fonction: border-radius: radius('md');
///   - Direct: border-radius: map.get($radius-tokens, 'card'); (d√©conseill√©)
$radius-tokens: (
  // === Scale primaire ===
  'none': 0,
  'xs': 2px,
  // Subtly rounded corners
  'sm': 4px,
  // Slightly rounded
  'md': 8px,
  // Standard rounded corners
  'lg': 16px,
  // Large rounded corners
  'xl': 20px,
  // Extra large
  '2xl': 24px,
  // 2XL (rare)
  'full': 50%,
  // Completely rounded (circles, pills)
  // === Aliases s√©mantiques (composants UI) ===
  'default': 8px,
  // D√©faut du syst√®me (= md)
  'card': 16px,
  // Cards, containers (= lg)
  'button': 8px,
  // Boutons standards (= md)
  'input': 8px,
  // Inputs, selects (= md)
  'avatar': 50%,
  // Avatars circulaires (= full)
  'badge': 50%,
  // Badges, pills (= full)
  'modal': 16px,
  // Modals, drawers (= lg)
  'drawer': 16px,
  // Drawers (= lg)
  'tooltip': 4px,
  // Tooltips (= sm)
  // === Valeurs explicites (usage sp√©cifique) ===
  'rounded-2px': 2px,
  'rounded-4px': 4px,
  'rounded-6px': 6px,
  'rounded-8px': 8px,
  'rounded-10px': 10px,
  'rounded-12px': 12px,
  'rounded-14px': 14px,
  'rounded-16px': 16px,
  'rounded-20px': 20px,
  'rounded-24px': 24px
) !default;

// =============================================================================
// CONTAINER QUERY TOKENS - Breakpoints pour container queries
// =============================================================================

/// Container query breakpoints (similaires aux breakpoints viewport mais pour containers)
/// Utilis√©s avec @container queries (CSS Container Queries moderne)
///
/// Container queries permettent responsive design bas√© sur taille du conteneur parent
/// plut√¥t que du viewport - id√©al pour composants r√©utilisables modulaires
///
/// Compatibilit√©: Chrome 105+, Safari 16+, Firefox 110+
///
/// Usage:
///   - Via mixin: @include respond-container('md') { ... }
///   - Direct: @container (min-width: map.get($container-query-tokens, 'md'))
$container-query-tokens: (
  'xs': 320px,
  // Very small containers
  'sm': 400px,
  // Small containers
  'md': 600px,
  // Medium containers (cards, sidebars)
  'lg': 800px,
  // Large containers
  'xl': 1000px,
  // Extra large containers
  '2xl': 1200px, // Very large containers (grids, dashboards)
) !default;

// =============================================================================
// SIZE TOKENS - Dimensions structurelles (width, height, min/max)
// =============================================================================

/// Dimensions structurelles pour composants UI
/// ‚ö†Ô∏è S√âPARATION CLAIRE : size() pour dimensions, spacing() pour respiration
///
/// ‚úÖ UTILISER size() POUR :
///   - width, height, min-width, max-width, min-height, max-height
///   - top, left, right, bottom (positionnement absolu)
///   - Dimensions de composants (modals, sidebars, cards)
///   - Touch targets (accessibilit√© WCAG/TSA)
///
/// ‚ùå NE PAS UTILISER size() POUR :
///   - margin, padding ‚Üí spacing()
///   - gap, row-gap, column-gap ‚Üí spacing()
///
/// Usage:
///   - Via fonction: min-height: size('touch-target-min');
///   - Direct: width: map.get($size-tokens, 'modal-width-md'); (d√©conseill√©)
$size-tokens: (
  // === Touch targets (WCAG AA / TSA) ===
  'touch-target-min': 44px,
  // Minimum WCAG AA (44√ó44px)
  'touch-target-preferred': 48px,

  // Confortable TSA (48√ó48px)
  // === Icons ===
  'icon-xs': 16px,
  // Petit ic√¥ne (checkbox variant sm)
  'icon-sm': 20px,
  // Ic√¥ne compact (checkbox base mobile)
  'icon-md': 24px,
  // Ic√¥ne standard (checkbox base desktop)
  'icon-lg': 28px,
  // Grand ic√¥ne (checkbox variant lg)
  'icon-xl': 32px,
  // Tr√®s grand ic√¥ne
  'icon-2xl': 40px,

  // Extra large
  // === Inputs & Forms ===
  'input-height-sm': 36px,
  // Input compact
  'input-height-base': 44px,
  // Input standard (WCAG AA)
  'input-height-lg': 52px,
  // Input large (TSA confortable)
  'input-max-width': 320px,
  // Inputs courts (emails, phone)
  'input-full-width': 100%,

  // Inputs longs (textarea, description)
  // === Modals ===
  'modal-width-sm': 360px,
  // Modal compact (confirmations)
  'modal-width-md': 540px,
  // Modal standard
  'modal-width-lg': 720px,
  // Modal large (forms complexes)
  'modal-width-xl': 960px,
  // Modal extra large
  'modal-min-height': 200px,

  // Hauteur minimale
  // === Sidebars & Navigation ===
  'sidebar-width': 280px,
  // Sidebar ouverte
  'sidebar-collapsed': 64px,
  // Sidebar r√©duite (icons only)
  'navbar-height': 64px,
  // Barre de navigation
  'navbar-height-mobile': 56px,

  // Navbar mobile
  // === Cards & Containers ===
  'card-min-height': 120px,
  // Card minimale
  'card-max-width': 400px,

  // Card standard
  // === Legacy numeric (migration Phase 5 ‚Üí Phase 6) ===
  // TODO Phase 6: Migrer tous usages vers tokens s√©mantiques ci-dessus
  '2': 0.125rem,
  // 2px - Temporaire (petits √©l√©ments UI)
  '4': 0.25rem,
  // 4px - Temporaire (handle bars, s√©parateurs)
  '8': 0.5rem,
  // 8px - Temporaire (scrollbars, petits espacements structurels)
  '16': 1rem,
  // 16px - Temporaire
  '20': 1.25rem,
  // 20px - Temporaire
  '24': 1.5rem,
  // 24px - Temporaire
  '28': 1.75rem,
  // 28px - Temporaire
  '32': 2rem,
  // 32px - Temporaire (offsets structurels)
  '44': 2.75rem,
  // 44px - Temporaire (‚Üí 'touch-target-min')
  '64': 4rem,
  // 64px - Temporaire (offsets structurels)
  '100': 6.25rem,
  // 100px - Temporaire (grilles, cards)
  '150': 9.375rem,
  // 150px - Temporaire (min-width filtres)
  '160': 10rem,
  // 160px - Temporaire (TimeTimer compact)
  '180': 11.25rem,
  // 180px - Temporaire (grilles r√©compenses)
  '200': 12.5rem,
  // 200px - Temporaire
  '260': 16.25rem,
  // 260px - Temporaire (grilles √©dition)
  '280': 17.5rem,
  // 280px - Temporaire (TimeTimer, sidebar)
  '300': 18.75rem,
  // 300px - Temporaire (TimeTimer compact)
  '500': 31.25rem,
  // 500px - Temporaire (modals)
  '540': 33.75rem,
  // 540px - Temporaire (‚Üí 'modal-width-md')
  '600': 37.5rem,
  // 600px - Temporaire (TimeTimer full)
  '800': 50rem // 800px - Temporaire (CookiePreferences, containers)
) !default;

// =============================================================================
// FUNCTIONS - Accesseurs pour tokens
// =============================================================================

/// R√©cup√®re une valeur d'opacit√©
/// @param {String} $key - Cl√© dans $opacity-tokens
/// @return {Number} Opacity value (0-1)
@function opacity($key) {
  $value: map.get($opacity-tokens, $key);
  @if $value == null {
    @error 'Opacity key "#{$key}" not found. Available: #{map.keys($opacity-tokens)}';
  }
  @return $value;
}

/// R√©cup√®re un z-index
/// @param {String} $key - Cl√© dans $z-index-tokens
/// @return {Number} Z-index value
@function z-index($key) {
  $value: map.get($z-index-tokens, $key);
  @if $value == null {
    @error 'Z-index key "#{$key}" not found. Available: #{map.keys($z-index-tokens)}';
  }
  @return $value;
}

/// R√©cup√®re une valeur d'espacement
/// @param {String} $key - Cl√© dans $spacing-tokens
/// @return {Length} Spacing value (rem)
@function spacing($key) {
  $value: map.get($spacing-tokens, $key);
  @if $value == null {
    @error 'Spacing key "#{$key}" not found. Available: #{map.keys($spacing-tokens)}';
  }
  @return $value;
}

/// NOTE: font-size() function is now defined in _typography.scss (canonical implementation)
/// See _typography.scss @function font-size($key) for the authoritative implementation.
/// This avoids duplication and centralizes all typography logic in _typography.scss.

/// R√©cup√®re une hauteur de ligne
/// @param {String} $key - Cl√© dans $line-height-tokens
/// @return {Number} Line height value (unitless)
@function line-height($key) {
  $value: map.get($line-height-tokens, $key);
  @if $value == null {
    @error 'Line-height key "#{$key}" not found. Available: #{map.keys($line-height-tokens)}';
  }
  @return $value;
}

// Note: timing() and easing() functions are defined in _motion.scss (not here)
// Note: role-color() function is defined in _colors.scss (not here)
// This file only contains DATA tokens (maps), not functions

// =============================================================================
// SHADOW TOKENS - Box-shadow et text-shadow
// =============================================================================

/// üî¥ CANONICAL SOURCE pour ALL shadows (elevation system + semantic contexts)
///
/// Structure hi√©rarchique :
///   1. Elevation scale (none ‚Üí 2xl) : profondeur standardis√©e
///   2. Card shadows : states interactifs (default, hover, active, disabled)
///   3. Role shadows : badges r√¥les (admin, abonn√©, free, visitor)
///   4. Button shadows : states boutons
///   5. Badge shadows : petits √©l√©ments
///   6. Input shadows : formulaires + focus rings
///   7. Admin UI shadows : interface admin sp√©cifique
///   8. Modal shadows : overlays et modals
///   9. Text shadows : lisibilit√© sur images
///
/// Usage :
///   box-shadow: map.get($shadow-tokens, 'elevation-md');
///   box-shadow: map.get(map.get($shadow-tokens, 'card'), 'hover');
///   box-shadow: map.get(map.get(map.get($shadow-tokens, 'role'), 'admin'), 'default');
///
/// ‚ö†Ô∏è R√àGLES :
///   - Toutes ombres DOIVENT √™tre d√©finies ici (canonical source)
///   - _shadows.scss ne contient QUE les fonctions wrapper
///   - Jamais hardcoder rgba() ailleurs
///   - Respecter elevation scale (none < xs < sm < md < lg < xl < 2xl)
$shadow-tokens: (
  // === ELEVATION SCALE - Standard elevation hierarchy ===
  'elevation-none': none,
  'elevation-xs': 0 1px 3px rgba(0, 0, 0, 0.12),
  // Subtle, nearly flat
  'elevation-sm': 0 2px 6px rgba(0, 0, 0, 0.15),
  // Slightly elevated (default)
  'elevation-md': 0 4px 12px rgba(0, 0, 0, 0.15),
  // Medium elevation
  'elevation-lg': 0 8px 24px rgba(0, 0, 0, 0.2),
  // Higher elevation
  'elevation-xl': 0 8px 32px rgba(0, 0, 0, 0.1),
  // Much higher
  'elevation-2xl': 0 10px 40px rgba(0, 0, 0, 0.3),
  // Maximum elevation (modals, dropdowns)
  // === Aliases s√©mantiques elevation ===
  'elevation-default': 0 2px 6px rgba(0, 0, 0, 0.15),
  'elevation-subtle': 0 1px 3px rgba(0, 0, 0, 0.12),
  'elevation-raised': 0 4px 12px rgba(0, 0, 0, 0.15),
  'elevation-floating': 0 8px 24px rgba(0, 0, 0, 0.2),
  'elevation-modal': 0 10px 40px rgba(0, 0, 0, 0.3),
  // === Shortcuts - Simple access to common shadows ===
  'focus': 0 0 0 3px rgba(0, 119, 194, 0.1),
  // Focus ring (primary blue)
  'banner': 0 10px 40px rgba(0, 0, 0, 0.3),
  // Cookie banner / notification floating
  'glow-start': 0 5px 15px rgba(0, 119, 194, 0.4),
  // Glow effect for reward/start animations
  // === CARD SHADOWS - Interactive card states ===
  'card': (
      'default': 0 2px 6px rgba(0, 0, 0, 0.15),
      'hover': 0 8px 24px rgba(0, 0, 0, 0.2),
      'focus': 0 8px 24px rgba(0, 0, 0, 0.2),
      'active': 0 8px 24px rgba(0, 0, 0, 0.2),
      'disabled': none,
      'flat': none,
      'elevated': 0 8px 24px rgba(0, 0, 0, 0.2),
    ),
  // === ROLE SHADOWS - User role badges (colored emphasis) ===
  'role': (
      'admin': (
        'default': 0 0 24px rgba(0, 0, 0, 0.35),
        'hover': 0 0 32px rgba(0, 0, 0, 0.45),
      ),
      'abonne': (
        'default': 0 2px 8px rgba(34, 197, 94, 0.3),
        // Green glow
        'hover': 0 4px 16px rgba(34, 197, 94, 0.4),
      ),
      'free': (
        'default': 0 2px 8px rgba(100, 116, 139, 0.3),
        // Slate glow
        'hover': 0 4px 16px rgba(100, 116, 139, 0.4),
      ),
      'visitor': (
        'default': 0 2px 8px rgba(234, 88, 12, 0.3),
        // Orange glow
        'hover': 0 4px 16px rgba(234, 88, 12, 0.4),
      ),
    ),
  // === BUTTON SHADOWS - Button interaction states ===
  'button': (
      'default': 0 2px 6px rgba(0, 0, 0, 0.15),
      'hover': 0 4px 12px rgba(0, 0, 0, 0.15),
      'active': 0 1px 3px rgba(0, 0, 0, 0.12),
      // Pressed down
      'focus': 0 4px 12px rgba(0, 0, 0, 0.15),
      'disabled': none,
    ),
  // === BADGE SHADOWS - Small elements (pills, tags) ===
  'badge': (
      'default': 0 1px 3px rgba(0, 0, 0, 0.12),
      'hover': 0 2px 6px rgba(0, 0, 0, 0.15),
    ),
  // === INPUT SHADOWS - Form controls + focus rings ===
  'input': (
      'default': 0 1px 3px rgba(0, 0, 0, 0.12),
      'hover': 0 2px 6px rgba(0, 0, 0, 0.15),
      'focus': 0 0 0 3px rgba(0, 119, 194, 0.1),
      // Primary blue focus ring
      'error': 0 0 0 3px rgba(244, 67, 54, 0.1),
      // Error red focus ring
      'disabled': none,
    ),
  // === ADMIN UI SHADOWS - Admin-specific interface ===
  'admin-ui': (
      'default': 0 4px 12px rgba(0, 0, 0, 0.15),
      'hover': 0 8px 24px rgba(0, 0, 0, 0.2),
      'panel': 0 2px 8px rgba(0, 0, 0, 0.08),
      'dropdown': 0 10px 40px rgba(0, 0, 0, 0.3),
      'modal': 0 25px 50px rgba(0, 0, 0, 0.3),
    ),
  // === MODAL SHADOWS - Overlays and dialogs ===
  'modal': (
      'default': 0 10px 40px rgba(0, 0, 0, 0.3),
      'inner': inset 0 0 24px rgba(0, 0, 0, 0.1),
    ),
  // === TEXT SHADOWS - Readability on images/backgrounds ===
  'text': (
      'none': none,
      'sm': 0 1px 3px rgba(0, 0, 0, 0.3),
      'md': 0 2px 4px rgba(0, 0, 0, 0.4),
      'lg': 0 4px 8px rgba(0, 0, 0, 0.5),
    )
) !default;

// =============================================================================
// ACCESSIBILITY TOKENS (WCAG 2.2 AA + TSA)
// =============================================================================

/// üî¥ CANONICAL SOURCE pour ALL accessibility values (touch targets, focus, motion, contrast)
/// Tokens d'accessibilit√© centralis√©s pour garantir conformit√© WCAG 2.2 AA.
/// Utilis√© par mixins (touch-target, focus-ring, etc.) et composants.
///
/// Sp√©cificit√©s TSA (Troubles du Spectre Autistique) :
///   - Zones tactiles pr√©f√©r√©es plus grandes (56px vs 44px minimum WCAG)
///   - Focus rings clairs et pr√©visibles
///   - Contraste √©lev√© recommand√© (7.0 pour enhanced)
///   - Animations r√©duites au strict minimum
///
/// Ratios de contraste :
///   - 'contrast-min': 4.5 = WCAG AA texte normal
///   - 'contrast-enhanced': 7.0 = WCAG AAA texte normal (recommand√© TSA)
///
/// Touch targets (WCAG 2.5.5 Target Size) :
///   - 'min-touch-target': 44px = Minimum WCAG 2.2 Level AA
///   - 'preferred-touch-target': 56px = Recommand√© pour TSA (enfants)
///
/// Focus indicators (WCAG 2.4.7 Focus Visible) :
///   - 'focus-ring-width': 2px = √âpaisseur visible claire
///   - 'focus-ring-offset': 2px = Espacement pour distinction
///
/// Animations (prefers-reduced-motion) :
///   - 'reduced-motion-duration': 0.01ms = Quasi-instantan√© (safe pour TSA)
$a11y-tokens: (
  // === Contrast ratios (WCAG) ===
  'contrast-min': 4.5,
  // WCAG AA normal text
  'contrast-enhanced': 7,
  // WCAG AAA normal text (TSA recommended)
  'contrast-large-text': 3,
  // WCAG AA large text (18px+)
  // === Touch target sizes (WCAG 2.5.5) ===
  'min-touch-target': 44px,
  // WCAG 2.2 Level AA minimum
  'preferred-touch-target': 56px,
  // Recommended for children/TSA (Material Design baseline)
  'optimal-touch-target': 48px,
  // Compromise between AA and UX
  // === Focus indicators (WCAG 2.4.7) ===
  'focus-ring-width': 2px,
  // Visible outline thickness
  'focus-ring-offset': 2px,
  // Offset for clear separation
  'focus-ring-width-enhanced': 3px,
  // Enhanced for low vision
  // === Motion (prefers-reduced-motion) ===
  'reduced-motion-duration': 0.01ms,
  // Near-instant for reduced-motion users
  'safe-animation-duration': 200ms,
  // Max duration for TSA-friendly animations
  'safe-transition-duration': 150ms,
  // Max transition for interactive elements
  // === Spacing for readability ===
  'line-spacing-min': 1.5,
  // WCAG 1.4.12 line-height minimum
  'paragraph-spacing-min': 1.5em,
  // WCAG 1.4.12 paragraph spacing
  'letter-spacing-min': 0.12em,
  // WCAG 1.4.12 letter spacing
  'word-spacing-min': 0.16em // WCAG 1.4.12 word spacing
) !default;

// =============================================================================
// CSS CUSTOM PROPERTIES - Pour acc√®s runtime
// =============================================================================

:root {
  // === Opacity ===
  --opacity-xs: #{opacity('xs')};
  --opacity-sm: #{opacity('sm')};
  --opacity-md: #{opacity('md')};
  --opacity-lg: #{opacity('lg')};
  --opacity-xl: #{opacity('xl')};

  // === Z-Index ===
  --z-dropdown: #{z-index('dropdown')};
  --z-sticky: #{z-index('sticky')};
  --z-fixed: #{z-index('fixed')};
  --z-modal-backdrop: #{z-index('modal-backdrop')};
  --z-modal: #{z-index('modal')};
  --z-popover: #{z-index('popover')};
  --z-tooltip: #{z-index('tooltip')};
  --z-notification: #{z-index('notification')};

  // === Role colors ===
  --color-admin: #{role-color('admin', 'base')};
  --color-abonne: #{role-color('abonne', 'base')};
  --color-free: #{role-color('free', 'base')};
  --color-visitor: #{role-color('visitor', 'base')};
}

// ============================================================================
// GUIDELINES
// ============================================================================
// 1. _tokens.scss = SOURCE DE V√âRIT√â UNIQUE (pas d'autres hardcodes)
// 2. Tous les autres abstracts (_spacing, _colors, _motion, etc.) d√©rivent
// 3. Jamais hardcoder couleur, opacity, z-index, gradient ailleurs
// 4. Pour ajouter token: d√©finir ici PUIS utiliser dans autres files
// 5. Tokens = design system source (1 change = partout chang√©)
// 6. Format: maps organis√©es par cat√©gorie, functions pour acc√®s
// 7. Respecter nommage semantic vs technical (success vs green-500)
// 8. CSS vars pour acc√®s JS (@root)
// 9. Legacy compatibility: garder ancien noms si migration en cours
// 10. Documenter contexte d'usage (o√π/pourquoi token existe)
