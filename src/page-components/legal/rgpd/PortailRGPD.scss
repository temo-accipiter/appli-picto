@use '@styles/abstracts' as *;

// ============================================================================
// PORTAIL RGPD PAGE
// ============================================================================
// ✅ PHASE 6 VALIDÉ : Wrappers spacing/surface/radius/shadow/text/semantic/timing avec fallback
//    - spacing('24'/'20'/'10'/'6'/'14'/'16'/'8'/'12') → Primitives Phase 6 ✅
//    - surface('bg'/'border') → Semantics Phase 6 ✅
//    - radius('rounded-12px'/'rounded-10px') → Primitives Phase 6 (12px/10px) ✅
//    - shadow('elevation-sm') → Primitives Phase 6 ✅
//    - text('light') → Semantics Phase 6 ✅
//    - semantic('info'/'error', all variants) → Semantics Phase 6 ✅
//    - timing('fast') → Primitives Phase 6 (0.15s) ✅
//    - easing('smooth') → Primitives Phase 6 ✅
//    - safe-transition() → Mixin Phase 6 ✅
//    - size('980'/'260') → Legacy support actif
//    - font-size('3xl'/'lg') → Legacy support actif
//    - line-height('relaxed') → Legacy support actif
//    - border-width('thin'/'medium') → Legacy support actif
//    - font-weight('semibold') → Legacy support actif
//    - opacity('0-6') → Legacy support actif
// ============================================================================

.rgpd-portal {
  max-width: size('980');
  margin: 0 auto;
  padding: spacing('24') spacing('20');

  &__header {
    margin-bottom: spacing('10');

    h1 {
      font-size: font-size('3xl');
      margin: 0 0 spacing('6');
    }
  }

  &__subtitle {
    color: text('light');
    margin: 0;
    line-height: line-height('relaxed');
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(size('260'), 1fr));
    gap: spacing('14');
    margin-top: spacing('16');
  }
}

.rgpd-card {
  background: surface('bg');
  border: border-width('thin') solid surface('border');
  border-radius: radius('rounded-12px');
  box-shadow: shadow('elevation-sm');
  padding: spacing('16');

  h2 {
    font-size: font-size('lg');
    margin: 0 0 spacing('8');
  }

  p {
    margin: 0 0 spacing('12');
    color: text('light');
  }

  .btn {
    appearance: none;
    border: none;
    background: semantic('info', 'bg');
    color: semantic('info', 'dark');
    padding: spacing('8') spacing('12');
    border-radius: radius('rounded-10px');
    font-weight: font-weight('semibold');
    cursor: pointer;
    @include safe-transition(background, timing('fast'), easing('smooth'));

    &:hover {
      background: semantic('info', 'light');
    }

    // WCAG 2.4.7 - Focus visible avec bon contraste
    &:focus-visible {
      outline: border-width('medium') solid semantic('info');
      outline-offset: border-width('medium');
    }

    &[disabled] {
      opacity: opacity('0-6');
      cursor: progress;
    }
  }

  .btn-danger {
    background: semantic('error', 'bg');
    color: semantic('error', 'dark');

    &:hover {
      background: semantic('error', 'light');
    }

    &:focus-visible {
      outline-color: semantic('error');
    }
  }
}
