// src/components/features/recompenses/recompenses-edition/RecompensesEdition.scss
@use '@styles/abstracts' as *;

// ============================================================================
// RECOMPENSES EDITION COMPONENT
// ============================================================================
// Styles édition récompenses (TSA-friendly : pastel, calm)
// ✅ PHASE 6 VALIDÉ : Wrappers spacing/radius/semantic/surface/text avec fallback
//    - spacing('md'/'lg'/'sm'/'16') → Primitives Phase 6 (16px/24px/8px/16px) ✅
//    - radius('lg'/'md') → Primitives Phase 6 (20px/12px) ✅
//    - semantic('info'/'info-primary', variants) → Semantics Phase 6 ✅
//    - surface('soft'/'border') → Semantics Phase 6 (#f1f5f9/#e2e8f0) ✅
//    - text('default'/'light') → Semantics Phase 6 (#1e293b/light variant) ✅
//    - Autres tokens : Legacy support actif
// ============================================================================

.checklist-recompenses {
  display: flex;
  flex-direction: column;
  gap: spacing('md');
  padding: spacing('lg');
  border-radius: radius('lg');
  background: semantic('info', 'bg');
  box-shadow: shadow('elevation-lg');
  @include safe-transition(
    (box-shadow, background-color),
    timing('base'),
    easing('smooth')
  );

  h2 {
    font-size: font-size('2xl');
    margin: 0;
    text-align: center;
    color: text('default');
  }

  .liste-recompenses {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(size('180'), 1fr));
    gap: spacing('16');
    align-items: start;
  }
}

/* Styles partagés avec TachesEdition (réutilisés) */
.checklist-recompenses {
  /* Actions (boutons) - stylisé comme une card */
  .edition-section__actions {
    display: flex;
    flex-wrap: wrap;
    gap: spacing('sm');
    margin-bottom: spacing('md');
    align-items: center;
    padding: spacing('md');
    background: surface('soft');
    border-radius: radius('md');
    box-shadow: shadow('elevation-xs');
    border: border-width('thin') solid semantic('info', 'border');
  }

  .edition-section__grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(size('260'), 1fr));
    gap: spacing('md');
  }

  .edition-section__empty {
    grid-column: 1 / -1;
    font-size: font-size('lg');
    color: text('light');
    padding: spacing('lg');
    border: border-width('medium') dashed surface('border');
    border-radius: radius('lg');
    text-align: center;
  }

  .edition-slot {
    min-height: size('card-min-height');
    border: border-width('medium') dashed transparent;
    border-radius: radius('md');
    @include safe-transition(
      (border-color, background-color),
      timing('fast'),
      easing('smooth')
    );

    &.over {
      border-color: semantic('info-primary');
      background: semantic('info', 'bg');
    }

    &.dragging-from {
      border-color: semantic('info-primary');
      background: semantic('info', 'bg');
      opacity: opacity('half');
    }
  }
}
