@use '@styles/abstracts' as *;
@use 'sass:color';

/* BEM-lite, doux & accessible */
.delete-guard {
  display: grid;
  gap: spacing('sm');
  padding: spacing('md');
  background: var(--card-bg, #{surface(bg)});
  border: spacing('1') solid color.change(gray(900), $alpha: opacity('0-08'));
  border-radius: radius('lg');
  box-shadow: 0 spacing('1') spacing('2')
    color.change(gray(900), $alpha: opacity('xs'));
  animation: deleteGuardFadeIn transition('base') ease-out;
}

@media (prefers-color-scheme: dark) {
  .delete-guard {
    background: var(--card-bg-dark, #{slate(900)});
    border-color: color.change(text(invert), $alpha: opacity('0-08'));
    box-shadow: none;
  }
}

@keyframes deleteGuardFadeIn {
  from {
    opacity: 0;
    transform: translateY(spacing('2'));
  }
  to {
    opacity: 1;
    transform: none;
  }
}

.delete-guard__intro {
  margin: 0 0 spacing('4');
  font-size: font-size('sm');
  line-height: 1.4;
  color: var(--text-muted, #{gray(600)});
}

.delete-guard__error {
  margin: spacing('4') 0 0;
  padding: spacing('sm') spacing('sm');
  border-radius: radius('rounded-10px');
  background: var(--danger-50, #{red(50)});
  border: spacing('1') solid var(--danger-200, #{red(200)});
  color: var(--danger-700, #{red(700)});
  font-size: font-size('sm');
}

.delete-guard__note {
  margin: spacing('2') 0 0;
  font-size: font-size('sm');
  color: var(--text-muted, #{gray(600)});
}

/* Turnstile a une classe .cf-turnstile */
.delete-guard .cf-turnstile {
  margin-top: spacing('4');
}

/* Focus visible bien lisible (AA) */
.delete-guard :focus-visible {
  outline: spacing('3') solid var(--focus, #{blue(300)});
  outline-offset: spacing('2');
  transition: outline-color transition('fast') ease;
}

/* Espace harmonieux avec tes composants Input/Button */
.delete-guard .input-field,
.delete-guard .button {
  margin-top: spacing('2');
}
