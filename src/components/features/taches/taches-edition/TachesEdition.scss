// src/components/features/taches/taches-edition/TachesEdition.scss
// Styles édition tâches (TSA-friendly : pastel, calm)
@use '@styles/abstracts' as *;

// ============================================================================
// TACHES EDITION COMPONENT
// ============================================================================
// ✅ PHASE 6 VALIDÉ : Wrappers spacing/radius/semantic/shadow/surface avec fallback
//    - spacing('md'/'lg'/'sm'/'xs'/'100'/'32'/'16'/'8') → Primitives Phase 6 ✅
//    - radius('lg'/'md') → Primitives Phase 6 (20px/12px) ✅
//    - semantic('info', all variants) → Semantics Phase 6 ✅
//    - shadow('elevation-lg'/'elevation-xs'/'elevation-sm') → Primitives Phase 6 ✅
//    - surface('soft'/'border'/'bg') → Semantics Phase 6 ✅
//    - text('light') → Semantics Phase 6 ✅
//    - timing('base'/'fast') → Primitives Phase 6 (0.2s/0.15s) ✅
//    - easing('smooth') → Primitives Phase 6 ✅
//    - safe-transition() → Mixin Phase 6 ✅
//    - size('260'/'card-min-height') → Legacy support actif
//    - font-size('lg'/'4xl') → Legacy support actif
//    - border-width('thin'/'medium') → Legacy support actif
//    - opacity('half') → Legacy support actif
// ============================================================================

.checklist-edition {
  display: flex;
  flex-direction: column;
  gap: spacing('md');
  padding: spacing('lg');
  border-radius: radius('lg');
  background: semantic('info', 'bg');
  box-shadow: shadow('elevation-lg');
  @include safe-transition(
    (box-shadow, background-color),
    timing('base'),
    easing('smooth')
  );
}

/* Actions (boutons, filtres) - stylisé comme une card */
.edition-section__actions {
  display: flex;
  flex-wrap: wrap;
  gap: spacing('sm');
  margin-bottom: spacing('md');
  align-items: center;
  padding: spacing('md');
  background: surface('soft');
  border-radius: radius('md');
  box-shadow: shadow('elevation-xs');
  border: border-width('thin') solid semantic('info', 'border');
}

/* Grille de cards avec drag & drop */
.edition-section__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(size('260'), 1fr));
  gap: spacing('md');
}

/* Message vide */
.edition-section__empty {
  grid-column: 1 / -1;
  font-size: font-size('lg');
  color: text('light');
  padding: spacing('lg');
  border: border-width('medium') dashed surface('border');
  border-radius: radius('lg');
  text-align: center;
}

/* Slot droppable pour drag & drop */
.edition-slot {
  min-height: size('card-min-height');
  border: border-width('medium') dashed transparent;
  border-radius: radius('md');
  @include safe-transition(
    (border-color, background-color),
    timing('fast'),
    easing('smooth')
  );

  &.over {
    border-color: semantic('info-primary');
    background: semantic('info', 'bg');
  }

  &.dragging-from {
    border-color: semantic('info-primary');
    background: semantic('info', 'bg');
    opacity: opacity('half');
  }
}

/* Anciens styles conservés pour compatibilité */
.header-actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: spacing('md');
  padding: spacing('xs') spacing('md');
  background: surface('soft');
  box-shadow: shadow('elevation-sm');
  border-radius: radius('md');

  > * {
    flex: 0 0 auto;
  }

  .header-buttons {
    display: flex;
    gap: spacing('sm');
  }
}

.liste-taches-edition {
  display: flex;
  flex-wrap: wrap;
  gap: spacing('md');
  justify-content: flex-start;
  background: surface('soft');
  box-shadow: shadow('elevation-sm');
  border-radius: radius('md');
  padding: spacing('xs');
}

.liste-taches-edition__empty {
  width: 100%;
  min-height: spacing('100');
  padding: spacing('32') spacing('16');
  text-align: center;
  font-size: font-size('lg');
  font-style: italic;
  color: text('light');
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: spacing('8');

  span {
    font-size: font-size('4xl');
    line-height: 1;
  }
}
