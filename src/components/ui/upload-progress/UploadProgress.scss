// src/components/ui/upload-progress/UploadProgress.scss
@use '@styles/abstracts' as *;

/// ============================================================================
/// UPLOAD PROGRESS COMPONENT - Tokens-First
/// ============================================================================
/// Composant barre de progression upload avec feedback visuel
/// - Barre de progression animée douce
/// - Pourcentage et message texte
/// - TSA-friendly (couleurs pastel, animations ≤ 0.3s)
/// - WCAG 2.2 AA compliant (contraste, clarté visuelle)
///
/// ✅ CONFORME TOKENS-FIRST : Toutes valeurs via fonctions tokens
/// ✅ PHASE 6 VALIDÉ : Wrappers spacing/radius/semantic/text avec fallback
///    - spacing('md'/'12'/'4') → Primitives Phase 6 (16px/12px/16px) ✅
///    - radius('md'/'sm') → Primitives Phase 6 (12px/6px) ✅
///    - semantic('info'/'success', variants) → Semantics Phase 6 ✅
///    - text('muted') → Semantics Phase 6 (#64748b) ✅
///    - tsa-pastel('info-soft') → Legacy TSA support actif
///    - Autres tokens : Legacy support actif
/// ============================================================================

.upload-progress {
  // Spacing
  padding: spacing('md');

  // Apparence
  background-color: tsa-pastel('info-soft'); // Bleu pastel doux
  border: border-width('base') solid semantic('info', 'border');
  border-radius: radius('md'); // 8px

  // Layout
  text-align: center;

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // PROGRESS BAR CONTAINER
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__bar {
    width: 100%;
    height: size(
      'input-height-sm'
    ); // 36px (ou custom 8px via spacing tolérance)
    background-color: semantic('info', 'border'); // Fond barre (bleu clair)
    border-radius: radius('sm'); // 4px
    overflow: hidden;
    margin-block-end: spacing('12'); // Espace avant message
  }

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // PROGRESS FILL (ANIMATED)
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__fill {
    height: 100%;
    // Gradient bleu → vert (TSA-friendly progression visuelle)
    background: linear-gradient(
      90deg,
      semantic('info', 'base'),
      semantic('success', 'base')
    );
    border-radius: radius('sm'); // 4px

    // Animation DOUCE TSA-friendly
    @include safe-transition(
      width,
      timing('fast'),
      // 0.15s max
      easing('smooth')
    );
  }

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // MESSAGE TEXT
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__message {
    font-size: font-size('sm');
    color: text(); // Texte principal
    font-weight: font-weight('medium'); // 500
    margin: 0 0 spacing('4') 0;
  }

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // PERCENTAGE TEXT
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__percent {
    font-size: font-size('xs');
    color: text('muted'); // Texte secondaire atténué
    font-weight: font-weight('normal'); // 400
  }
}
