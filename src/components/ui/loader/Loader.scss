// src/components/ui/loader/Loader.scss
@use '@styles/abstracts' as *;

/// ============================================================================
/// LOADER COMPONENT - Tokens-First
/// ============================================================================
/// Composant loader (indicateur de chargement) avec animation bounce
/// - Overlay plein écran
/// - 3 dots avec animation décalée
/// - TSA-friendly (animation douce ≤ 0.3s, prefers-reduced-motion)
///
/// ✅ CONFORME TOKENS-FIRST : Toutes valeurs via fonctions tokens
/// ============================================================================

// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// OVERLAY (FULL SCREEN)
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

.loader-overlay {
  // Position
  position: fixed;
  inset: 0; // Propriété logique moderne (top/right/bottom/left: 0)
  z-index: z-index('max'); // Au-dessus de tout

  // Layout
  display: flex;
  justify-content: center;
  align-items: center;

  // Apparence
  background-color: surface('bg'); // Fond blanc/neutre
}

// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// LOADER BOUNCE (CONTAINER)
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

.loader-bounce {
  display: flex;
  gap: spacing('sm'); // 8px entre dots
}

// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// DOT (ANIMATED)
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

.dot {
  // Dimensions
  width: size('icon-xs'); // 16px (dots compacts)
  height: size('icon-xs');

  // Apparence
  background-color: color('base'); // Bleu principal
  border-radius: radius('full'); // Cercle parfait

  // Animation TSA-compliant
  @include safe-animation(
    bounce,
    timing('base'),
    // 0.3s
    ease-in-out
  );
  animation-iteration-count: infinite;

  // Délais pour effet cascade
  &:nth-child(2) {
    animation-delay: 0.15s; // 150ms entre dots
  }

  &:nth-child(3) {
    animation-delay: 0.3s; // 300ms total
  }
}

// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// NOTE: Animation @keyframes 'bounce' définie dans base/_animations.scss
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
