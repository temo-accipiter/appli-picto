// src/components/ui/select/Select.scss
@use '@styles/abstracts' as *;

/// ============================================================================
/// SELECT COMPONENT - Tokens-First
/// ============================================================================
/// Composant select (liste déroulante) atomique réutilisable
/// - States: default, error, focus
/// - WCAG 2.2 AA compliant (44px touch target, focus visible)
/// - TSA-friendly animations (≤ 0.3s, prefers-reduced-motion)
///
/// ✅ CONFORME TOKENS-FIRST : Toutes valeurs via fonctions tokens
/// ✅ PHASE 6 VALIDÉ : Wrappers spacing/radius/text/surface/semantic avec fallback
///    - spacing('sm'/'8'/'12'/'md') → Primitives Phase 6 (8px/8px/12px/16px) ✅
///    - radius('md') → Primitives Phase 6 (12px) ✅
///    - text() → Semantics Phase 6 (#1e293b) ✅
///    - surface('border'/'bg') → Semantics Phase 6 (#e2e8f0/#ffffff) ✅
///    - semantic('error') → Semantics Phase 6 ✅
///    - Autres tokens : Legacy support actif
/// ============================================================================

// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// SELECT FIELD WRAPPER
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

.select-field {
  // Layout
  display: flex;
  align-items: center;
  gap: spacing('sm'); // 8px entre label et select

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // LABEL
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__label {
    font-weight: font-weight('semibold');
    font-size: font-size('lg');
    color: text();
    white-space: nowrap; // Évite retour à la ligne
  }

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // SELECT INPUT
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__select {
    // Spacing
    padding: spacing('8') spacing('12');

    // Typographie
    font-size: font-size('base');
    color: text();

    // Apparence
    border: border-width('base') solid surface('border');
    border-radius: radius('md'); // 8px
    background-color: surface('bg');
    box-shadow: shadow('elevation-xs'); // Ombre subtile

    // Dimensions
    width: 100%;
    min-height: size('touch-target-min'); // 44px WCAG AA

    // UX
    cursor: pointer;
    @include safe-transition(
      border-color box-shadow,
      timing('fast'),
      easing('smooth')
    );

    // Focus WCAG 2.2 AA
    @include focus-ring;

    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    // STATE: ERROR
    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    &--error {
      border-color: semantic('error');
      @include validation-glow('error'); // Glow rouge subtil
    }
  }

  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  // ERROR MESSAGE
  // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  &__error {
    color: semantic('error');
    font-size: font-size('sm');
    margin-inline-start: spacing('md'); // RTL-ready (margin-left en LTR)
  }
}
