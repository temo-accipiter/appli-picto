@use '@styles/abstracts' as *;

/**
 * Breadcrumbs Styles (Fil d'Ariane)
 *
 * Specifications:
 * - Displayed above main content on protected routes
 * - WCAG 2.2 AA compliant (nav role, aria-current, keyboard nav)
 * - TSA-friendly (clear visual separation, reassuring context)
 * - Responsive: hidden on very small screens if needed
 *
 * Accessibility:
 * - <nav> with aria-label
 * - <ol> semantic list
 * - aria-current="page" on active item
 * - Keyboard navigable (Tab)
 * - Focus ring visible
 */

.breadcrumbs {
  padding: $spacing-md $spacing-lg;
  background: transparent;
  border-bottom: 1px solid var(--color-border);
  margin-bottom: $spacing-md;

  // Mobile: r√©duire padding
  @media (max-width: #{$breakpoint-sm - 1px}) {
    padding: $spacing-sm $spacing-md;
    margin-bottom: $spacing-sm;
  }
}

.breadcrumbs__list {
  display: flex;
  align-items: center;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: $spacing-xs;
  flex-wrap: wrap;
}

.breadcrumbs__item {
  display: flex;
  align-items: center;
  gap: $spacing-xs;

  // Remove flex-wrap gap from last item
  &:last-child {
    margin-right: 0;
  }
}

// ============================================
// Link Styles
// ============================================
.breadcrumbs__link {
  display: inline-flex;
  align-items: center;
  padding: $spacing-xs $spacing-sm;
  color: var(--color-primary);
  text-decoration: none;
  font-size: $font-size-sm;
  font-weight: $font-weight-medium;
  transition: all $transition-base ease;
  border-radius: $radius-sm;

  // Hover state
  &:hover:not(&--current) {
    background: var(--color-bg-hover);
    color: var(--color-primary-dark);
  }

  // Focus state (keyboard navigation)
  &:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  // Current/active item (not clickable)
  &--current {
    color: var(--color-text);
    font-weight: $font-weight-semibold;
    cursor: default;
    pointer-events: none;

    // No hover effect for current item
    &:hover {
      background: transparent;
      color: var(--color-text);
    }
  }
}

// ============================================
// Separator (Chevron)
// ============================================
.breadcrumbs__separator {
  flex-shrink: 0;
  color: var(--color-text-secondary);
  margin: 0 $spacing-xs;
}

// ============================================
// Dark Mode
// ============================================
@media (prefers-color-scheme: dark) {
  .breadcrumbs {
    border-bottom-color: var(--color-border);
  }
}

// ============================================
// Reduced Motion
// ============================================
@media (prefers-reduced-motion: reduce) {
  .breadcrumbs__link {
    transition: none;
  }
}

// ============================================
// Print Styles (if needed)
// ============================================
@media print {
  .breadcrumbs__separator {
    display: none;
  }

  .breadcrumbs__link {
    color: currentColor;
    text-decoration: underline;
  }
}
