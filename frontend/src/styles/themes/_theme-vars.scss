@use '@styles/abstracts' as *;
@use 'sass:color';

// === MAP DES COULEURS POUR LE LIGHT MODE ===
$theme-light: (
  bg: $color-bg,
  text: $color-text,
  primary: $color-primary,
  secondary: $color-secondary,
  accent: $color-accent,
  border: gray(300),
  surface: $color-surface,
  success: $color-success,
  warning: $color-warning,
  error: $color-error,
  info: $color-info,
  info-primary: $color-info-primary,
);

// === MAP DES COULEURS POUR LE DARK MODE ===
$theme-dark: (
  bg: #121212,
  text: #eeeeee,
  primary: #4dabf7,
  secondary: #ff6b6b,
  accent: #1e1e1e,
  border: gray(600),
  surface: gray(800),
  success: $color-success,
  warning: $color-warning,
  error: $color-error,
  info: $color-info,
  info-primary: $color-info-primary,
);

// === LIGHT MODE :root ===
:root {
  @each $key, $value in $theme-light {
    --color-#{$key}: #{$value};
  }

  --color-link: var(--color-primary);
  --color-hover: rgba(
    #{color.channel($color-primary, 'red', $space: rgb)},
    #{color.channel($color-primary, 'green', $space: rgb)},
    #{color.channel($color-primary, 'blue', $space: rgb)},
    0.1
  );

  --color-text-rgb:
    #{color.channel($color-text, 'red', $space: rgb)},
    #{color.channel($color-text, 'green', $space: rgb)},
    #{color.channel($color-text, 'blue', $space: rgb)};
}

// === DARK MODE ===
[data-theme='dark'] {
  @each $key, $value in $theme-dark {
    --color-#{$key}: #{$value};
  }

  --color-link: var(--color-primary);
  --color-hover: rgba(130, 207, 255, 0.1);

  --color-text-rgb:
    #{color.channel(#eeeeee, 'red', $space: rgb)},
    #{color.channel(#eeeeee, 'green', $space: rgb)},
    #{color.channel(#eeeeee, 'blue', $space: rgb)};
}
